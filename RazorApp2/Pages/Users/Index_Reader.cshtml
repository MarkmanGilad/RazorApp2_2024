@page
@model RazorApp2.Pages.Users.Index_ReaderModel
@using Microsoft.Data.SqlClient
@{
    ViewData["Title"] = "Index_Reader";
}

<h1>UsersTable</h1>


<table class='table'>
    <thead>
        <tr>
            @if (Model.Reader.HasRows)
            {
                for (int i = 0; i < Model.Reader.FieldCount; i++)
                {
                    <th>@Model.Reader.GetName(i)</th>
                }
            }
        </tr>
    </thead>
    <tbody>
        @while (Model.Reader.Read())
        {
            <tr>
                @for (int i = 0; i < Model.Reader.FieldCount; i++)
                {
                    <td>@Model.Reader.GetValue(i)</td>
                }
            </tr>
        }
    </tbody>
    
</table>
@{
    Model.Reader.Close();
}
